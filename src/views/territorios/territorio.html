
<!DOCTYPE html>
<html lang="es">
  <head >
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.7/css/responsive.dataTables.min.css">
    <link rel="stylesheet" href="/css/geo.css">
    <link rel="stylesheet" href="/css/leaflet.label.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <style>  #container { padding-left: 100px; padding-right: 100px; padding-top: 5px; padding-bottom: 2px; } tr { height: 2px; }</style>
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />


    <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>
    <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.gammel.js"></script>
    <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.zune.js"></script>
    <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.ocean.js"></script>
   
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js" integrity="sha512-ICHkAOXzVDEkL5xkXjAWRV/hx6Bq4ID/uhRcnj9zS7QCdCbhVtfgjwt/vTfUBtW1wzBkErImU0huK3LDVeEr8g==" crossorigin="anonymous"></script>

    <title> <%= title %> </title>
    <%- include ('../partials/head.html') %>
  </head>
  <%- include ('../partials/menuplapp.html') %>
<body onload="vigencia()">
  
      <div id="container" class="row mt-5 ">
        <div class="row">
            <!--intro-->
            <div class="col-md-12 mt-3 card shadow-sm bg-white rounded mb-2">
              <div class="card-body  ">
                <h6 class="text-muted" style="text-align: center;font-size: 20px;line-height: 20px;font-weight: 200;color: #73879C;
                  font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;">
                  <p style="align-items: center;"> <img src="/img/logo.png" style="width: 5%;" alt=""></p>Total
                  Inversión Pública Municipio de Medellín
                </h6>
                <p class="text-muted" style="text-align: center;font-size: 18px;line-height: 18px;font-weight: 600;color: #73879C;
                  font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;">Comunas y Corregimientos
                </p>
                <h4 id="totalVIgencia"class="text-muted" style="text-align: center;font-size: 28px;line-height: 28px;font-weight: 600;color: #73879C;
                  font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;">
                </h4>
                <h6 id="vigencia" class="text-muted" style="text-align: center;font-size: 18px;line-height: 20px;font-weight: 600;color: #73879C;
                  font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;">
                </h6>
              </div>
            </div>
     
            <!-- mapa -->
            <div class="col-md-12 card shadow-lg mb-3 bg-white rounded">
              <div class="card-body">
                
                <div id="map" style=" width: 100%; height: 800px; "></div>
              </div>
            
            </div>
            <!-- select 
            <div class="col-md-12 mb-1 card shadow p-3 bg-white rounded">
                <div class="card-body">
                  <div class="input-group col-12">
                      <select class="custom-select" id="inputGroupSelect04" aria-label="Example select with button addon">
                    
                        <option selected value="2019">2020</option>
                        <option value="2018">2021</option>
                        <option value="2017">2022</option>
                        <option value="2016">2023</option>
                      
                      </select>
                      
                      <div class="input-group-append">
                        <button class="btn btn-info btn-block" style="font-size: xx-small;" type="button"> <i
                            class="fa fa-calendar" style="color:#FFFFFF; width:60px; height:20px; font-size: small;"
                            aria-hidden="true" onclick=" buscar_vigencia()"> Consultar</i></button>
                      </div>
        
                  </div>
                </div>
            </div>

          -->
        
            <!-- semidona -->
            <div class="col-md-6 shadow-sm p-3 mb-1 p-3  bg-white rounded">
                <div id="chartMainVigencia" style="width: 100%; height: 400px; background-color: #FFFFFF;"> </div>
            </div>
            <!-- tarjetas tipo inversion -->
            <div class="mb-2 col-md-6 shadow-sm p-3 mb-1 p-3 bg-white rounded">
              <div class="card-body text-center">
                <div class="card-deck ">
                  <div class="card border-light shadow-sm p-3 mb-4 bg-white rounded">
                    <div class="card-body ">
                      <h3 class="card-title cardheader" style="color: #73879C;">Inversión Localizada</h3>
                      <h6  id="inverLocalizada" style="color: rgb(17, 160, 41);" id="vigenciaLocal" class="card-text total"> <b> </b></h6>
                      <button type="button" class="btn btn-outline-info mr-2" onclick="modalGraphLocalizada()">
                        <i class="fa fa-bar-chart fa-1x" style="width: 20px; height: 20px;" aria-hidden="true"></i>
                      </button>       
                    </div>
                  </div>
                  <div class="card border-light shadow-sm p-3 mb-4 bg-white rounded">
                    <div class="card-body ">
                      <h3 class="card-title cardheader" style="color: #73879C;">Inversión de Ciudad</h3>
                      <h6 id="inverCiudad"  style="color: rgb(17, 160, 41);" id="vigenciaLocal" class="card-text total"> <b> </b></h6>
                      <button type="button" class="btn btn-outline-info mr-2" onclick="modalGraphCiudad()">
                        <i class="fa fa-bar-chart fa-1x" style="width: 20px; height: 20px;" aria-hidden="true"></i>
                      </button>  
                    </div>
                  </div>
                </div>
                <div class="card-deck ">
                  <div class="card border-light  shadow-sm p-3 mb-4 bg-white rounded">
                    <div class="card-body ">
                      <h3 class="card-title cardheader" style="color: #73879C;">Presupuesto Participativo</h3>
                      <h6 id="pp" style="color: rgb(17, 160, 41);" id="vigenciaLocal" class="card-text total"> <b></b></h6>
                      <button type="button" class="btn btn-outline-info mr-2"onclick="modalGraphPP()">
                        <i class="fa fa-bar-chart fa-1x" style="width: 20px; height: 20px;" aria-hidden="true"></i>
                      </button>  
                    </div>
                  </div>
                  <div class="card border-light shadow-sm p-3 mb-4 bg-white rounded">
                    <div class="card-body ">
                      <h3 class="card-title cardheader" style="color: #73879C;"> Fortalecimiento Institucional</h3>
                      <h6 id="fortInst" style="color: rgb(17, 160, 41);" id="vigenciaLocal" class="card-text total"> <b> </b></h6> 
                    </div>
                  </div>
                </div>
                  
              </div>
            </div>
            <!--Gráfica total de inversión por comunas y corregimientos principal-->
            <div class="col-md-12 shadow-sm p-3 mt-2 mb-2 bg-white rounded">
              <div class="card text-center">
                  <div class="card-body">
                    <div id="chartdiv_comunas_vigencia" style=" width: 100%; height: 540px; "></div>
                  </div>
              </div>
            </div>

       
            
        </div>
      </div>


  



<!-- Modal -->
<div class="modal fade " id="Modalmapa" tabindex="-1" aria-labelledby="ModalLabelmapa"  aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-scrollable">
    <div class="modal-content">

      <div class="modal-body">
        <div class="row" id="GeoReport">
            <div class="col-md-12 card-body  shadow-sm bg-white rounded mb-1 ">
              <h6 class="text-muted" style="text-align: center;font-size: 20px;line-height: 20px;font-weight: 200;color: #73879C;
                  font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;">
                <p style="align-items: center;"> <img src="/img/logo.png" style="width: 15%;" alt=""></p>Total Inversión Pública Municipio de Medellín <br>
                <span id="mapaprueba" style="text-align: center;font-size: 18px;line-height: 18px;font-weight: 600;color: #73879C;font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;"></span>-
                <span style="text-align: center;font-size: 18px;line-height: 18px;font-weight: 600;color: #73879C;font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;" id="nombre_comuna"></span> <br>
                <span style="text-align: center;font-size: 18px;line-height: 18px;font-weight: 600;color: #73879C;font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;" id="total"></span>
              </h6>
            </div> 
   
          <div class="col-md-12" data-html2canvas-ignore="true">
            <div id="map2" style=" width: 100%; height: 490px; " ></div>
          </div>
          <div class="col-md-12 ">
            <div id="chartMainVigencia-modal" style="width: 100%; height: 400px; background-color: #FFFFFF;"> </div>
          </div>
          <div class="col-md-12 shadow-sm p-3 mb- p-3  bg-white rounded">
            <div id="ChartDepComuna-modal" style="width: 100%; height: 550px; background-color: #FFFFFF;"> </div>
          </div>

          <div class="col-md-12 mt-4 mb-4" data-html2canvas-ignore="true">
            <h6 class="text-muted" style="text-align: center;font-size: 20px;line-height: 20px;font-weight: 200;color: #73879C;
            font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;">
            <p style="align-items: center;"> <img src="/img/logo.png" style="width: 20%;" alt=""></p>Logros Gobierno <span id="logrocomunareportado"></span>
          </h6>
            <table id="table_reporte" class="table table-striped table-bordered table-sm " style="font-size: small;" width="100%"></table>
          </div>
        </div>
      </div>
      <div class="modal-footer">
<!-- 
        <button type="button" class="btn btn-danger"  onclick="dowloadGEO()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-cloud-download-fill" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 0a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 4.095 0 5.555 0 7.318 0 9.366 1.708 11 3.781 11H7.5V5.5a.5.5 0 0 1 1 0V11h4.188C14.502 11 16 9.57 16 7.773c0-1.636-1.242-2.969-2.834-3.194C12.923 1.999 10.69 0 8 0zm-.354 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V11h-1v3.293l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"/>
          </svg>
          
        </button>
    -->
        <button type="button" class="btn btn-warning" data-dismiss="modal">
          
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>

<!--modal-->

    <div class="modal fade bd-example-modal-xl"  id="exampleModal" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel"> </h5>
     
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
         
        </div>
        <div class="modal-body">
         <h6 id="actualVigencia" class="card-subtitle text-muted">Vigencia</h6>
          <div class="container mt-lg-4">

            <section class="cardcontainer mt-4">
              <div class="container mt-lg-3" style="  width: 100%; height: 400px; font-size	: 11px" id="chartModalVigencia"></div>
            </section>

           <section class="cardcontainer mt-4">
             <div class="table-responsive">
               <table id="tblexportDataModal" class="table table-hover table-sm table-striped">
                 <thead style="text-align: center;"class="thead-inverse">
                   <tr>
                     <th>Vigencia</th>
                     <th>Comuna</th>
                     <th>Nombre Comuna</th>
                     <th>Inversión Localizada</th>
                    
                   </tr>
                 </thead>
                 <tbody id="resultInverLocalizada" style=" height: min-content;"></tbody>
                 <tfoot>
                   <tr>
                     <th colspan="4" style="font-size: 10px;text-align:left;">
                       <p class="text-muted" style="font-style: oblique;"> <b>Fuente: </b> Alcaldía de Medellin -
                         Departamento Administrativo de Planeación</p>
                     </th>
                   </tr>
                 </tfoot>
               </table>
             </div>
           </section>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Salir</button>
            <button type="button" class="btn btn-outline-success "><i class="fa fa-file-excel-o fa-1x" style="width:65px; height: 20px;" aria-hidden="true"><span style="font-size: 12px; color: rgb(54, 114, 94);">  Exportar</i></button>     
            
          </div>
        </div>
      </div>
    </div>
    </div>
    

<!--modal play time-->
    <div class="modal fade bd-play-modal-xl"  id="playModal" tabindex="-1" role="dialog" aria-labelledby="playModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="playModalLabel"> </h5>
     
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
           <div class="container">
             <div id="chartdivPlay" style="width: 100%; height: 500px;"></div>
       </div>
      </div>
      </div>
    </div>
    </div>

</body>
  <%- include ('../partials/scriptsHome.html')%>
  <script src="/js/htmltoexcel.js"></script>
  <script src="/js/cargaVigencia.js"></script>
 
  <script src="/js/transversal.js" ></script>
  <script src="/js/leaflet.label.js"></script>
  <script src="/js/leaflet.label-src.js"></script>

  <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
  <script src="https://www.amcharts.com/lib/3/serial.js"></script>
  <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
  <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
  <script type="text/javascript" src="https://www.amcharts.com/lib/3/themes/light.js"></script>

  <script src="https://www.amcharts.com/lib/4/core.js"></script>
  <script src="https://www.amcharts.com/lib/4/charts.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/material.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://api.tiles.mapbox.com/mapbox.js/v2.1.9/mapbox.js"></script>
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
  <script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.3.0"></script>

</html>





