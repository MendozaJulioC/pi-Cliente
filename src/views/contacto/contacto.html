
<%- include ('../partials/head.html') %>
<%- include ('../partials/navigation.html')%>
<%- include ('../partials/scriptsHome.html')%>


<!-- Styles -->
<style>
    #chartdiv {
      width: 100%;
      height: 500px;
    }
    </style>
    
    <!-- Resources -->
    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
    
    <!-- Chart code -->
    <script>
    am4core.ready(function() {
    
    // Themes begin
    am4core.useTheme(am4themes_animated);
    // Themes end
    
    var chart = am4core.create("chartdiv", am4charts.XYChart);
    chart.padding(40, 40, 40, 40);
    
    chart.numberFormatter.bigNumberPrefixes = [
      { "number": 1e+3, "suffix": "K" },
      { "number": 1e+6, "suffix": "M" },
      { "number": 1e+9, "suffix": "B" }
    ];
    
    var label = chart.plotContainer.createChild(am4core.Label);
    label.x = am4core.percent(97);
    label.y = am4core.percent(95);
    label.horizontalCenter = "right";
    label.verticalCenter = "middle";
    label.dx = -15;
    label.fontSize = 50;
    
    var playButton = chart.plotContainer.createChild(am4core.PlayButton);
    playButton.x = am4core.percent(97);
    playButton.y = am4core.percent(95);
    playButton.dy = -2;
    playButton.verticalCenter = "middle";
    playButton.events.on("toggled", function(event) {
      if (event.target.isActive) {
        play();
      }
      else {
        stop();
      }
    })
    
    var stepDuration = 4000;
    
    var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());
    categoryAxis.renderer.grid.template.location = 0;
    categoryAxis.dataFields.category = "network";
    categoryAxis.renderer.minGridDistance = 1;
    categoryAxis.renderer.inversed = true;
    categoryAxis.renderer.grid.template.disabled = true;
    
    var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());
    valueAxis.min = 0;
    valueAxis.rangeChangeEasing = am4core.ease.linear;
    valueAxis.rangeChangeDuration = stepDuration;
    valueAxis.extraMax = 0.1;
    
    var series = chart.series.push(new am4charts.ColumnSeries());
    series.dataFields.categoryY = "network";
    series.dataFields.valueX = "MAU";
    series.tooltipText = "{valueX.value}"
    series.columns.template.strokeOpacity = 0;
    series.columns.template.column.cornerRadiusBottomRight = 5;
    series.columns.template.column.cornerRadiusTopRight = 5;
    series.interpolationDuration = stepDuration;
    series.interpolationEasing = am4core.ease.linear;
    
    var labelBullet = series.bullets.push(new am4charts.LabelBullet())
    labelBullet.label.horizontalCenter = "right";
    labelBullet.label.text = "{values.valueX.workingValue.formatNumber('#.0as')}";
    labelBullet.label.textAlign = "end";
    labelBullet.label.dx = -10;
    
    chart.zoomOutButton.disabled = true;
    
    // as by default columns of the same series are of the same color, we add adapter which takes colors from chart.colors color set
    series.columns.template.adapter.add("fill", function(fill, target){
      return chart.colors.getIndex(target.dataItem.index);
    });
    
    var year = 2008;
    label.text = year.toString();
    
    var interval;
    
    function play() {
      interval = setInterval(function(){
        nextYear();
      }, stepDuration)
      nextYear();
    }
    
    function stop() {
      if (interval) {
        clearInterval(interval);
      }
    }
    
    function nextYear() {
      year++
    
      if (year > 2019) {
        year = 2008;
      }
    
      var newData = allData[year];
      var itemsWithNonZero = 0;
      for (var i = 0; i < chart.data.length; i++) {
        chart.data[i].MAU = newData[i].MAU;
        if (chart.data[i].MAU > 0) {
          itemsWithNonZero++;
        }
      }
    
      if (year == 2008) {
        series.interpolationDuration = stepDuration / 4;
        valueAxis.rangeChangeDuration = stepDuration / 4;
      }
      else {
        series.interpolationDuration = stepDuration;
        valueAxis.rangeChangeDuration = stepDuration;
      }
    
      chart.invalidateRawData();
      label.text = year.toString();
    
      categoryAxis.zoom({ start: 0, end: itemsWithNonZero / categoryAxis.dataItems.length });
    }
    
    
    categoryAxis.sortBySeries = series;
    
    var allData = {
      "2008": [
        {
          "network": "Facebook",
          "MAU": 0
        },
        {
          "network": "Flickr",
          "MAU": 0
        },
        {
          "network": "Google Buzz",
          "MAU": 0
        },
    
        {
          "network": "Friendster",
          "MAU": 4470000
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 0
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 0
        },
        {
          "network": "Orkut",
          "MAU": 0
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 0
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 0
        },
        {
          "network": "WeChat",
          "MAU": 0
        },
        {
          "network": "Weibo",
          "MAU": 0
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 0
        }
      ],
      "2009": [
        {
          "network": "Facebook",
          "MAU": 36751354
        },
        {
          "network": "Flickr",
          "MAU": 3675135
        },
        {
          "network": "Friendster",
          "MAU": 5970054
        },
        {
          "network": "Google Buzz",
          "MAU": 0
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 0
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 980036
        },
        {
          "network": "Orkut",
          "MAU": 4900180
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 0
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 0
        },
        {
          "network": "WeChat",
          "MAU": 0
        },
        {
          "network": "Weibo",
          "MAU": 0
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 0
        }
      ],
      "2010": [
        {
          "network": "Facebook",
          "MAU": 0
        },
        {
          "network": "Flickr",
          "MAU": 7399354
        },
        {
          "network": "Friendster",
          "MAU": 7459742
        },
        {
          "network": "Google Buzz",
          "MAU": 0
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 9731610
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 19490059
        },
        {
          "network": "Orkut",
          "MAU": 9865805
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 0
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 0
        },
        {
          "network": "WeChat",
          "MAU": 0
        },
        {
          "network": "Weibo",
          "MAU": 0
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 1946322
        }
      ],
      "2011": [
        {
          "network": "Facebook",
          "MAU": 0
        },
        {
          "network": "Flickr",
          "MAU": 14949270
        },
        {
          "network": "Friendster",
          "MAU": 8989854
        },
        {
          "network": "Google Buzz",
          "MAU": 0
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 19932360
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 54763260
        },
        {
          "network": "Orkut",
          "MAU": 14966180
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 248309
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 0
        },
        {
          "network": "WeChat",
          "MAU": 0
        },
        {
          "network": "Weibo",
          "MAU": 0
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 19878248
        }
      ],
      "2012": [
        {
          "network": "Facebook",
          "MAU": 0
        },
        {
          "network": "Flickr",
          "MAU": 29299875
        },
        {
          "network": "Friendster",
          "MAU": 24253200
        },
        {
          "network": "Google Buzz",
          "MAU": 0
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 29533250
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 69299875
        },
        {
          "network": "Orkut",
          "MAU": 26916562
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 488331
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 0
        },
        {
          "network": "WeChat",
          "MAU": 0
        },
        {
          "network": "Weibo",
          "MAU": 0
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 143932250
        }
      ],
      "2013": [
        {
          "network": "Facebook",
          "MAU": 100000000
        },
        {
          "network": "Flickr",
          "MAU": 30000000
        },
        {
          "network": "Friendster",
          "MAU": 51008911
        },
        {
          "network": "Google Buzz",
          "MAU": 0
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 55045618
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 72408233
        },
        {
          "network": "Orkut",
          "MAU": 44357628
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 1944940
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 0
        },
        {
          "network": "WeChat",
          "MAU": 0
        },
        {
          "network": "Weibo",
          "MAU": 0
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 294493950
        }
      ],
      "2015": [
        {
          "network": "Facebook",
          "MAU": 276000000
        },
        {
          "network": "Flickr",
          "MAU": 41834525
        },
        {
          "network": "Friendster",
          "MAU": 28804331
        },
        {
          "network": "Google Buzz",
          "MAU": 0
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 57893524
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 70133095
        },
        {
          "network": "Orkut",
          "MAU": 47366905
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 3893524
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 0
        },
        {
          "network": "WeChat",
          "MAU": 0
        },
        {
          "network": "Weibo",
          "MAU": 0
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 413611440
        }
      ],
      "2016": [
        {
          "network": "Facebook",
          "MAU": 517750000
        },
        {
          "network": "Flickr",
          "MAU": 54708063
        },
        {
          "network": "Friendster",
          "MAU": 0
        },
        {
          "network": "Google Buzz",
          "MAU": 166029650
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 59953290
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 68046710
        },
        {
          "network": "Orkut",
          "MAU": 49941613
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 0
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 43250000
        },
        {
          "network": "WeChat",
          "MAU": 0
        },
        {
          "network": "Weibo",
          "MAU": 19532900
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 480551990
        }
      ],
      "2017": [
        {
          "network": "Facebook",
          "MAU": 766000000
        },
        {
          "network": "Flickr",
          "MAU": 66954600
        },
        {
          "network": "Friendster",
          "MAU": 0
        },
        {
          "network": "Google Buzz",
          "MAU": 170000000
        },
        {
          "network": "Google+",
          "MAU": 0
        },
        {
          "network": "Hi5",
          "MAU": 46610848
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 46003536
        },
        {
          "network": "Orkut",
          "MAU": 47609080
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 0
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 0
        },
        {
          "network": "Twitter",
          "MAU": 92750000
        },
        {
          "network": "WeChat",
          "MAU": 47818400
        },
        {
          "network": "Weibo",
          "MAU": 48691040
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 642669824
        }
      ],
      "2018": [
        {
          "network": "Facebook",
          "MAU": 979750000
        },
        {
          "network": "Flickr",
          "MAU": 79664888
        },
        {
          "network": "Friendster",
          "MAU": 0
        },
        {
          "network": "Google Buzz",
          "MAU": 170000000
        },
        {
          "network": "Google+",
          "MAU": 107319100
        },
        {
          "network": "Hi5",
          "MAU": 0
        },
        {
          "network": "Instagram",
          "MAU": 0
        },
        {
          "network": "MySpace",
          "MAU": 0
        },
        {
          "network": "Orkut",
          "MAU": 45067022
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 0
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 146890156
        },
        {
          "network": "Twitter",
          "MAU": 160250000
        },
        {
          "network": "WeChat",
          "MAU": 118123370
        },
        {
          "network": "Weibo",
          "MAU": 79195730
        },
        {
          "network": "Whatsapp",
          "MAU": 0
        },
        {
          "network": "YouTube",
          "MAU": 844638200
        }
      ],
      "2019": [
        {
          "network": "Facebook",
          "MAU": 1170500000
        },
        {
          "network": "Flickr",
          "MAU": 80000000
        },
        {
          "network": "Friendster",
          "MAU": 0
        },
        {
          "network": "Google Buzz",
          "MAU": 170000000
        },
        {
          "network": "Google+",
          "MAU": 205654700
        },
        {
          "network": "Hi5",
          "MAU": 0
        },
        {
          "network": "Instagram",
          "MAU": 117500000
        },
        {
          "network": "MySpace",
          "MAU": 0
        },
        {
          "network": "Orkut",
          "MAU": 0
        },
        {
          "network": "Pinterest",
          "MAU": 0
        },
        {
          "network": "Reddit",
          "MAU": 0
        },
        {
          "network": "Snapchat",
          "MAU": 0
        },
        {
          "network": "TikTok",
          "MAU": 0
        },
        {
          "network": "Tumblr",
          "MAU": 293482050
        },
        {
          "network": "Twitter",
          "MAU": 223675000
        },
        {
          "network": "WeChat",
          "MAU": 196523760
        },
        {
          "network": "Weibo",
          "MAU": 118261880
        },
        {
          "network": "Whatsapp",
          "MAU": 300000000
        },
        {
          "network": "YouTube",
          "MAU": 1065223075
        }
      ]
        
      
    }
    
    chart.data = JSON.parse(JSON.stringify(allData[year]));
    categoryAxis.zoom({ start: 0, end: 1 / chart.data.length });
    
    series.events.on("inited", function() {
      setTimeout(function() {
        playButton.isActive = true; // this starts interval
      }, 2000)
    })
    
    }); // end am4core.ready()
    </script>
    
    <!-- HTML -->
    <div class="container">

    <div id="chartdiv"></div>

    </div>

   